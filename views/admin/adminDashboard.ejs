<%- include("../adminpartials/head", {title: "Admin || Dashboard" }) %>
<style>
  .qrButton {
    background-color: transparent;
    border: none;
    outline: none;
    cursor: pointer;
  }

  .qrButton i {
    font-size: 32px;
  }

</style>
<div class="content-wrapper">
  <div class="row align-items-center justify-content-between">
    <h3 class="page-heading mb-4">You are logged in as Super Admin</h3>
    <button class="qrButton mb-4" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal"><i class='bx bx-qr'></i></button>
  </div>
  <%- include('../flash') %>
  <div class="row mb-4">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title mb-4">Generate Identity Cards</h5>
          <form action="/generate/report">
            <div class="row">
              <div class="col-2">
                <select id="reportFormTeam" name="team" class="form-control">
                  <option disabled selected>Team</option>
                  <% for (let team of teams){ %>
                  <option value="<%= team._id %>"><%= team.name %></option>
                  <% } %>
                </select>
              </div>
              <div class="col-2">
                <select name="division" class="form-control">
                  <option disabled selected>Division</option>
                  <option value="all">All</option>
                  <% for (let d of dop){ %>
                  <option value="<%= d %>"><%= d %></option>
                  <% } %>
                </select>
              </div>
              <button type="submit" class="btn btn-outline-primary btn-sm">Generate <i class="fa fa-download"></i></button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="row mb-4">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title mb-4">Generate Complete Team Report</h5>
          <form action="/generate/complete/report">
            <div class="row">
              <div class="col-2">
                <select id="reportFormTeam" name="team" class="form-control">
                  <option disabled selected>Team</option>
                  <% for (let team of teams){ %>
                  <option value="<%= team._id %>"><%= team.name %></option>
                  <% } %>
                </select>
              </div>
              <div class="col-2">
                <select name="division" class="form-control">
                  <option disabled selected>Division</option>
                  <option value="all">All</option>
                  <% for (let d of dop){ %>
                  <option value="<%= d %>"><%= d %></option>
                  <% } %>
                </select>
              </div>
              <button type="submit" class="btn btn-outline-primary btn-sm">Generate <i class="fa fa-download"></i></button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">QR Code</h1>
      </div>
      <div class="modal-body d-flex flex-column justify-content-center align-items-center">
        <img style="width: 250px; height: 250px;" src="/images/adminqr.png" />
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <form action="/download/qr/admin" method="POST">
          <button type="submit" class="btn btn-primary">Download</button>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
  const myModal = document.getElementById('myModal')
  const myInput = document.getElementById('myInput')

  myModal.addEventListener('shown.bs.modal', () => {
    myInput.focus()
  })

</script>
<%- include('../adminpartials/footer') %>
